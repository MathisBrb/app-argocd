---
clusterName: "opensearch-cluster"
nodeGroup: "master"
singleNode: true

# ðŸ‘‡ CORRECTION MAJEURE ICI : Structure de l'image
image:
  repository: opensearchproject/opensearch
  tag: "2.11.1"

# RÃ´les nÃ©cessaires pour un noeud unique
roles:
  - master
  - ingest
  - data
  - remote_cluster_client

replicas: 1

resources:
  requests:
    cpu: "500m"  # J'ai baissÃ© un peu pour que Ã§a passe large sur ton cluster
    memory: "2Gi"
  limits:
    cpu: "1000m"
    memory: "4Gi"

persistence:
  enabled: true
  size: 20Gi

# Configuration pour DÃ‰SACTIVER la sÃ©curitÃ© (SSL/Login)
config:
  opensearch.yml: |
    cluster.name: opensearch-cluster
    node.name: opensearch-cluster-master-0
    network.host: 0.0.0.0
    plugins.security.disabled: true  # ðŸ‘ˆ C'est la clÃ© pour Ã©viter le crash SSL

# Services et Probes
service:
  type: ClusterIP
  port: 9200
