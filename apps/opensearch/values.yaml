clusterName: "opensearch-cluster"
nodeGroup: "master"
replicas: 1
singleNode: true

image: opensearchproject/opensearch
imageTag: "2.11.1"

resources:
  requests:
    cpu: "1000m"
    memory: "2Gi"
  limits:
    cpu: "2000m"
    memory: "4Gi"

persistence:
  enabled: true
  size: 20Gi

# ✅ DÉSACTIVER COMPLÈTEMENT LA SÉCURITÉ POUR L'INSTANT
config:
  opensearch.yml:
    cluster.name: opensearch-cluster
    node.name: opensearch-cluster-master-0
    plugins.security.disabled: true

env:
  - name: OPENSEARCH_JAVA_OPTS
    value: "-Xms1g -Xmx1g"

livenessProbe:
  httpGet:
    path: /
    port: 9200
    scheme: HTTP
  initialDelaySeconds: 60
  periodSeconds: 10

readinessProbe:
  httpGet:
    path: /
    port: 9200
    scheme: HTTP
  initialDelaySeconds: 60
  periodSeconds: 10

startupProbe:
  httpGet:
    path: /
    port: 9200
    scheme: HTTP
  failureThreshold: 30
  periodSeconds: 5

service:
  type: ClusterIP
  port: 9200
